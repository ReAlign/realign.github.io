<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="icon" type="image/png" href="/favicon/favicon-32x32.png" sizes="32x32">
    <title>加载 | 杂记</title>
    <link rel="stylesheet" href="/static-html-demo/css.css" />

    <style>
        /*  */
    </style>
</head>

<body onload="W.onload();" onbeforeunload="return W.onbeforeunload;" onunload="W.onunload();">
<div id="j-source" class="g-source">
    <div>
        <div id="j-load-flag">未触发 onload 事件</div>
        <div id="j-unload-flag">未触发 onunload 事件</div>
        <input type="text" id="j-input">
    </div>

    <script>
        const W = {
            onload() {
                // alert('断点1');
                const _dom = document.querySelector('#j-load-flag');
                _dom.innerHTML = '已触发 onload 事件';
                setTimeout(() => {
                    document.querySelector('#j-input').focus();
                }, 10);
            },
            onunload() {
                console.log('断点2');
                const _dom = document.querySelector('#j-unload-flag');
                _dom.innerHTML = '已触发 onunload 事件';
                console.log('断点3');
            },
            onbeforeunload() {
                alert('断点4');
            }
        };
    </script>
</div>

    <script src="/static-html-demo/highlight.pack.js"></script>
    <script src="/static-html-demo/view-source.js"></script>
</body>

</html>